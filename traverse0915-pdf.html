<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="config.js"></script>
</head>
<body style="background-color:#4e6856">

<script>

function getSecureRandomNumber() {
    const array = new Uint32Array(1);
    window.crypto.getRandomValues(array);
    return array[0] / (0xFFFFFFFF + 1);
}

function randomIntFromInterval(min, max) { // min and max included 
    return Math.floor(getSecureRandomNumber() * (Number(min) - Number(max) + 1)) + Number(min);
}

openStuff = function () {
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const repository = urlParams.get('repository');
    const blob = urlParams.get('blob');
    const startIndex = Number(urlParams.get('startIndex'));
    const endIndex = Number(urlParams.get('endIndex'));
    const username = urlParams.get('username') || 'cjcaf1995'; // Default to 'cjcaf1995' if 'username' is not provided
    
    var randomInteger = randomIntFromInterval(startIndex, endIndex);
    var url = "https://github.com/" + username + "/" + repository + "/blob/main/" + blob + randomInteger + ".pdf";
    
    window.open(url);
};

window.onload = function() {
    document.getElementById('randomButton').click();
}

</script>

<br>
<br>
<br>
<br>
<br>
<div style="text-align:center">
   <button id="randomButton" onclick="openStuff();" >RDR</button>
</div>

</body>
</html>
